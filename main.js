(function(){var e,t,n,o,r,a,i,l,s,u,c,d,m,h,f,g,y,p,v,w,b,_,k,I,B,M,S,E,x,F,T,q,A,C,D,L,N,W=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};w=300,E=w,x=0,S=document.getElementById("time"),s=document.getElementById("input"),a=document.getElementById("hardcore"),p=!1,N=!1,F=null,I=0,g=0,f=0,u=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,c=/Max|OS X/.test(navigator.userAgent)&&!window.MSStream,D=/Digit.|Key.|Space|Bracket.+|Enter|Semicolon|Quote|Backquote|Backslash|Comma|Period|Slash|Numpad.+/,C=[13,32,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,186,187,188,189,190,191,222],m={96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",222:"'"},b={",":"<",".":">","/":"?",";":":","'":'"',1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+"},i=!1,h=5,t=3,n=function(e){var t;return t=function(e){var t;return t=""+Math.floor(e),1===t.length?"0"+t:t},t(Math.floor(e/60))+":"+t(e%60)},q=function(){return S.innerHTML=n(E)},A=function(){var e,t,n;return e=s.value.length,t=s.value.split(/\s+/).length-1,t>f?(n=Math.floor(60*t/((new Date).getTime()/1e3-I)),isNaN(n)&&(n=0),g=n):n=g,f=t,r("stats").innerHTML=e+"c "+t+"w "+n+"wpm"},e=function(){var e,t;return t=s.value.split(/\s+/).length-1,e=n(w-E),s.value="",s.disabled=!0,s.placeholder="",clearInterval(F),p=!1,r("tweet").href="https://twitter.com/intent/tweet?text=I+wrote+"+t+"+words+in+"+e+"+minutes+-+and+then+I+died+using+The+Most+Dangerous+Writing+App+%23MDWA&url=http%3A%2F%2Fwww.themostdangerouswritingapp.com",r("tweet").innerHTML="I wrote "+t+" words in "+e+" minutes - and then I died using The Most Dangerous Writing App #MDWA",_("die"),_("logo"),ga?ga("send","event","Write","die",{session_length:w,time_left:E,words:t}):void 0},v=function(){return r("save_button").href="data:application/octet-stream;charset=utf-8;base64,"+btoa(s.value)},L=function(){return clearInterval(F),p=!1,N=!0,i&&(l("hardcore"),s.className=""),v(),_("win_button"),_("save_button"),l("time"),ga?ga("send","event","Write","win",{session_length:w,words:s.value.split(/\s+/).length-1}):void 0},M=function(){var n;return E-=.1,x+=.1,q(),i&&(a.style.opacity=x>.1?0:1),!N&&0>=E?L():x>h?e():x>t?(n=(x-t)/(h-t),s.style.opacity=1-n,document.body.style.boxShadow="inset 0px 0px "+Math.floor(100*n)+"px 0px rgba(242, 77, 77, "+.7*n+")"):void 0},d=function(e,t){var n;return m.hasOwnProperty(e)?n=m[e]:e>=48&&90>=e?(n=String.fromCharCode(e),t||(n=n.toLowerCase())):n="",t&&b.hasOwnProperty(n)&&(n=b[n]),n},B=function(e){var t,n;return A(),N||(n=e||window.event,t=n.keyCode||n.which,t&&W.call(C,t)<0||e.code&&!e.code.match(D))?void 0:(a&&(a.innerHTML=d(t,n.shiftKey)),x=0,p?(s.style.opacity=1,document.body.style.boxShadow="none"):(p=!0,F=setInterval(M,100)))},s.onkeydown=B,o=function(e){return e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():void 0},r=function(e){return document.getElementById(e)},l=function(e){var t;return t=document.getElementById(e).style.display="none",document.getElementById("status").style.opacity=1},_=function(e){return document.getElementById(e).style.display="block"},k=function(){return s.value="",i=r("hardcore_mode")&&r("hardcore_mode").checked,S.style.display="inline",s.disabled=!1,s.style.opacity=1,document.body.style.boxShadow="none",E=w,q(),s.placeholder="Start typing...",N=!1,p=!1,I=(new Date).getTime()/1e3,r("status").style.opacity=1,r("status_lower").style.opacity=1,l("logo"),l("start"),l("win_button"),l("save_button"),i?(_("hardcore"),s.className="hardcore"):(l("hardcore"),s.className=""),ga&&ga("send","event","Write","start",{session_length:w}),s.focus()},y=function(){return r("stats").innerHTML="",document.body.style.boxShadow="none",l("time"),_("start"),l("die"),s.disabled=!0},document.getElementById("start_button").onclick=function(){var e;return w=parseInt(function(){var t,n,o,r;for(o=document.getElementsByClassName("select_time"),r=[],t=0,n=o.length;n>t;t++)e=o[t],e.checked&&r.push(e);return r}()[0].value),k()},document.getElementById("show_help").onclick=function(){return _("help")},document.getElementById("hide_help").onclick=function(){return l("help")},document.getElementById("retry_button").onclick=y,document.getElementById("win_button").onclick=y,T=function(e){var t,n;return e.preventDefault(),t=e.target.href,n=function(){return document.location=t},ga("send","event",{eventCategory:"Affiliate Link",eventAction:"click",eventLabel:e.target.className,transport:"beacon",hitCallback:n}),setTimeout(n,1e3)},r("affiliate_mac")&&(r("affiliate_mac").onclick=T,r("affiliate_ios").onclick=T,u?_("affiliate_ios"):c&&_("affiliate_mac"))}).call(this);
//# sourceMappingURL=./main.js.map