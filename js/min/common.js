"use strict";!function(p){var a={position:"top",time_limits:[3,5,10,15,20,30,60],word_limits:[75,150,250,500,1667],type:"timed",limit:5,hidden:!1,hardcore:!1};p.fn.write_button=function(t){var i=JSON.parse(localStorage.getItem("mdwa.settings")||"{}"),f=p.extend({},a,i,t),e;p(this).each(function(){var a=p(this),n=a.attr("href").split("?")[0],t=p("<div class='write_button_wrap'></div>");a.hasClass("btn-small")&&t.addClass("small"),a.wrapAll(t);var i="",e="";for(var s in f.time_limits){var o="timed"===f.type&&f.limit===f.time_limits[s]?"checked":"";i+="<input ".concat(o," class='select_time' id='radio").concat(s,"' type='radio' name='time' value='").concat(f.time_limits[s],"min' /><label for='radio").concat(s,"'>").concat(f.time_limits[s],"</label>\n")}for(var l in f.word_limits){var c="words"===f.type&&f.limit===f.word_limits[l]?"checked":"";e+="<input ".concat(c," class='select_time' id='radio").concat(l+f.time_limits.length,"' type='radio' name='time' value='").concat(f.word_limits[l],"words' /><label for='radio").concat(l+f.time_limits.length,"'>").concat(String(f.word_limits[l]).replace("000","k"),"</label>\n")}var r=p('\n      <div class="session_chooser '.concat(f.hidden?"hidden":"",'">\n            <div class="full ').concat(f.type,'" style="display: none;">\n                <div class="tabs">\n                    <span class="timed">Minutes</span> / <span class="words">Words</span>\n                </div>\n                <div class="tab-timed">\n                    <div class="radios">\n                        ').concat(i,'\n                    </div>\n                </div>\n                <div class="tab-words">\n                    <div class="radios">\n                        ').concat(e,'\n                    </div>\n                </div>\n                <div class="tab-hardcore">\n                  <input type="checkbox" name="hardcore-check" id="hardcore-check" /><label for="hardcore-check">Hardcore mode</label>\n                </div>\n            </div>\n            <div class="compact">\n                Session length: <span class="choice">').concat(f.limit," ").concat("timed"==f.type?"minutes":"words",'</span> <i class="edit icon-pencil"></i>\n            </div>\n      </div>\n      '));if(a.parent().prepend(r),f.hidden){var d=null,m=function t(){clearTimeout(d),d=setTimeout(function(){r.fadeOut()},5e3)};a.on("mouseenter",function(){r.fadeIn(),m()}),r.on("mouseenter mousemove mouseleave",function(){m()})}var h=function t(){var i=r.find("input[type=radio]:checked").val(),e=r.find("#hardcore-check")[0].checked?"&hardcore=true":"";a.attr("href","".concat(n,"?limit=").concat(i).concat(e)),localStorage.setItem("mdwa.settings",JSON.stringify({type:"min"===i.substring(i.length-3,i.length)?"timed":"words",limit:parseInt(i),hardcore:r.find("#hardcore-check")[0].checked}))};r.find("input").on("change",h),r.find(".tabs .words").bind("click",function(){p(this).parents(".full").removeClass("timed").addClass("words")}),r.find(".tabs .timed").bind("click",function(){p(this).parents(".full").removeClass("words").addClass("timed")}),r.find(".compact").bind("click",function(){p(this).hide(),p(this).parents(".session_chooser").find(".full").show()})})}}(window.jQuery),function(o){var e={position:"top",animationTime:500,easing:"ease-in-out",offset:20,hidePlaceholderOnFocus:!0};o.fn.animateLabel=function(t){var i=0,e=0;o(this).css({left:"auto",right:"auto",position:"absolute","-webkit-transition":"all "+t.animationTime+"ms "+t.easing,"-moz-transition":"all "+t.animationTime+"ms "+t.easing,"-ms-transition":"all "+t.animationTime+"ms "+t.easing,transition:"all "+t.animationTime+"ms "+t.easing}),i=0,e=-1*(o(this).height()+t.offset),o(this).css({top:"0",opacity:"1","font-size":"60%","-webkit-transform":"translate3d(0, "+e+"px, 0)","-moz-transform":"translate3d(0, "+e+"px, 0)","-ms-transform":"translate3d(0, "+e+"px, 0)",transform:"translate3d(0, "+e+"px, 0)"})},o.fn.removeAnimate=function(){var t=0,i=0;o(this).css({top:"0",opacity:"0","font-size":"100%","-webkit-transform":"translate3d(0, 0px, 0)","-moz-transform":"translate3d(0, 0px, 0)","-ms-transform":"translate3d(0, 0px, 0)",transform:"translate3d(0, 0px, 0)"})},o.fn.label_better=function(t){var a=o.extend({},e,t),i=o(this),n="focus",
// noqa
s="blur";// noqa
"bounce"==a.easing&&(a.easing="cubic-bezier(0.175, 0.885, 0.420, 1.310)"),i.each(function(){var e=o(this),t=e.data("position")||a.position;if(e.wrapAll("<div class='lb_wrap' style='position:relative; display: inline;'></div>"),0<e.val().length){var i=e.data("new-placeholder")||e.attr("placeholder");o("<div class='lb_label "+t+"'>"+i+"</div>").css("opacity","0").insertAfter(e).animateLabel(a,e)}e.bind(n,function(){if(e.val().length<1){var t=e.data("new-placeholder")||e.attr("placeholder"),i=e.data("position")||a.position;o("<div class='lb_label "+i+"'>"+t+"</div>").css("opacity","0").insertAfter(e).animateLabel(a,e)}1==a.hidePlaceholderOnFocus&&(e.data("default-placeholder",e.attr("placeholder")),e.attr("placeholder","")),e.parent().find(".lb_label").addClass("active")}).bind(s,function(){e.val().length<1&&e.parent().find(".lb_label").bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){o(this).remove()}).removeAnimate(a,e),1==a.hidePlaceholderOnFocus&&(e.attr("placeholder",e.data("default-placeholder")),e.data("default-placeholder","")),e.parent().find(".lb_label").removeClass("active")})})}}(window.jQuery),jQuery.fn.focus_end=function(){return this.each(function(){
// Cache references
var t=$(this),i=this;// Only focus if input isn't already
// If this function exists... (IE 9+)
if(t.is(":focus")||t.focus(),i.setSelectionRange){
// Double the length because Opera is inconsistent about whether a carriage return is one character or two.
var e=2*t.val().length;// Timeout seems to be required for Blink
setTimeout(function(){i.setSelectionRange(e,e)},1)}else
// As a fallback, replace the contents with itself
// Doesn't work in Chrome, but Chrome supports setSelectionRange
t.val(t.val());// Scroll to the bottom, in case we're in a tall textarea
// (Necessary for Firefox and Chrome)
this.scrollTop=999999})};
//# sourceMappingURL=common.js.map